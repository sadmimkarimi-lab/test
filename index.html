<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¨Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡ | Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù‡Ù…â€ŒØ´Ú©Ù„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- ÙÙˆÙ†Øª Ø³Ø§Ø¯Ù‡ ÙØ§Ø±Ø³ÛŒ -->
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/dist/font-face.css" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    body {
      font-family: Vazirmatn, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #0f172a, #020617 60%, #000);
      color: #e5e7eb;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }
    .game-wrapper {
      width: 100%;
      max-width: 420px;
      background: radial-gradient(circle at top, #020617, #020617 60%, #000);
      border-radius: 24px;
      padding: 16px 14px 18px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: 0 18px 50px rgba(15, 23, 42, 0.9);
    }
    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      gap: 8px;
    }
    .title-block {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }
    .title-block h1 {
      font-size: 18px;
      font-weight: 800;
    }
    .title-block p {
      font-size: 12px;
      opacity: .8;
    }
    .stats {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
      font-size: 11px;
    }
    .stat-pill {
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }
    .stat-label {
      opacity: .8;
    }
    .stat-value {
      font-weight: 700;
    }

    .game-board {
      margin-top: 10px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 8px;
    }

    .card {
      width: 100%;
      padding-top: 115%; /* Ù†Ø³Ø¨Øª Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø¨Ø¹-Ú©Ù…ÛŒ-Ø¨Ù„Ù†Ø¯ */
      position: relative;
      cursor: pointer;
      perspective: 600px;
    }
    .card-inner {
      position: absolute;
      inset: 0;
      border-radius: 14px;
      transform-style: preserve-3d;
      transition: transform 0.35s ease;
    }
    .card.flipped .card-inner,
    .card.matched .card-inner {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      inset: 0;
      border-radius: 14px;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    .card-front {
      background: radial-gradient(circle at top, #1e293b, #020617);
      border: 1px solid rgba(148, 163, 184, 0.8);
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-size: 16px;
      font-weight: 700;
    }
    .card-front span {
      opacity: .85;
    }

    .card-back {
      transform: rotateY(180deg);
      background: radial-gradient(circle at top, #22c55e, #16a34a);
      box-shadow: 0 10px 24px rgba(34, 197, 94, 0.8);
      border: 1px solid rgba(190, 242, 100, 0.9);
    }

    .card.matched .card-back {
      background: radial-gradient(circle at top, #facc15, #eab308);
      box-shadow: 0 10px 26px rgba(250, 204, 21, 0.8);
      border-color: rgba(253, 224, 71, 1);
    }

    .hint {
      margin-top: 10px;
      font-size: 11px;
      opacity: .85;
      line-height: 1.8;
      text-align: right;
    }

    .controls {
      margin-top: 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      font-size: 11px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      white-space: nowrap;
      background: linear-gradient(135deg, #6366f1, #0ea5e9);
      color: #f9fafb;
      box-shadow: 0 8px 22px rgba(59, 130, 246, 0.9);
      transition: transform .12s, box-shadow .15s;
    }
    .btn:active {
      transform: scale(.96) translateY(1px);
      box-shadow: 0 3px 10px rgba(15, 23, 42, 0.9);
    }

    .small-text {
      opacity: .8;
    }

    .win-banner {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(22, 163, 74, 0.18);
      border: 1px solid rgba(34, 197, 94, 0.7);
      font-size: 12px;
      display: none;
    }
    .win-banner span {
      font-weight: 700;
    }

    @media (max-width: 480px) {
      .title-block h1 { font-size: 17px; }
      .title-block p { font-size: 11px; }
      .card-face { font-size: 26px; }
    }
  </style>
</head>
<body>
  <div class="game-wrapper">
    <div class="game-header">
      <div class="title-block">
        <h1>Ø¨Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡</h1>
        <p>Ø¯Ùˆ ØªØ§ Ú©Ø§Ø±Øª Ø´Ø¨ÛŒÙ‡ Ù‡Ù… Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ù† ğŸ˜‰</p>
      </div>
      <div class="stats">
        <div class="stat-pill">
          <span class="stat-label">Ø²Ù…Ø§Ù†:</span>
          <span id="time" class="stat-value">Û° Ø«Ø§Ù†ÛŒÙ‡</span>
        </div>
        <div class="stat-pill">
          <span class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø­Ø±Ú©Øª:</span>
          <span id="moves" class="stat-value">Û°</span>
        </div>
      </div>
    </div>

    <div id="winBanner" class="win-banner">
      ğŸ‰ Ø¢ÙØ±ÛŒÙ†! Ù‡Ù…Ù‡ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯ÛŒ.
      <br />
      <span>Ø²Ù…Ø§Ù†:</span> <span id="finalTime">Û°</span> Ø«Ø§Ù†ÛŒÙ‡ â€”
      <span>Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§:</span> <span id="finalMoves">Û°</span>
    </div>

    <div id="board" class="game-board">
      <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ø¨Ø§ Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´Ù† -->
    </div>

    <div class="controls">
      <button id="restartBtn" class="btn">Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ğŸ”</button>
      <div class="small-text">
        Ø§ÙˆÙ„ÛŒÙ† Ø­Ø±Ú©ØªØªØŒ ØªØ§ÛŒÙ…Ø± Ø±Ùˆ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ù‡ â±ï¸
      </div>
    </div>

    <p class="hint">
      Ù‡Ø± Ø¨Ø§Ø± Ø¯Ùˆ ØªØ§ Ú©Ø§Ø±Øª Ø±Ùˆ Ø¨Ø§Ø² Ú©Ù†. Ø§Ú¯Ù‡ Ø´Ø¨ÛŒÙ‡ Ù‡Ù… Ø¨ÙˆØ¯Ù†ØŒ Ù…ÛŒâ€ŒÙ…ÙˆÙ†Ù† Ø±Ùˆ.  
      Ø³Ø¹ÛŒ Ú©Ù† Ø¨Ø§ Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ú©Ù…â€ŒØªØ±ØŒ Ù‡Ù…Ù‡â€ŒÛŒ Ø¬ÙØªâ€ŒÙ‡Ø§ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒ! ğŸŒŸ
    </p>
  </div>

  <script>
    const boardEl = document.getElementById("board");
    const movesEl = document.getElementById("moves");
    const timeEl  = document.getElementById("time");
    const restartBtn = document.getElementById("restartBtn");
    const winBanner = document.getElementById("winBanner");
    const finalTimeEl = document.getElementById("finalTime");
    const finalMovesEl = document.getElementById("finalMoves");

    // Ø§ÛŒÙ…ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ (Û¸ Ø¬ÙØª = Û±Û¶ Ú©Ø§Ø±Øª)
    const symbols = ["ğŸ±","ğŸ±","ğŸ¶","ğŸ¶","ğŸ¼","ğŸ¼","ğŸ¦Š","ğŸ¦Š","ğŸ¸","ğŸ¸","ğŸ§","ğŸ§","ğŸ¦„","ğŸ¦„","ğŸ°","ğŸ°"];

    let firstCard = null;
    let secondCard = null;
    let lockBoard = false;
    let moves = 0;
    let matchedPairs = 0;
    const totalPairs = symbols.length / 2;

    let timerStarted = false;
    let seconds = 0;
    let timerInterval = null;

    function shuffle(array) {
      return array
        .map(value => ({ value, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .map(({ value }) => value);
    }

    function startTimer() {
      if (timerStarted) return;
      timerStarted = true;
      timerInterval = setInterval(() => {
        seconds++;
        timeEl.textContent = seconds + " Ø«Ø§Ù†ÛŒÙ‡";
      }, 1000);
    }

    function stopTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
    }

    function createBoard() {
      boardEl.innerHTML = "";
      const shuffled = shuffle(symbols);
      shuffled.forEach((sym, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.dataset.symbol = sym;

        const inner = document.createElement("div");
        inner.className = "card-inner";

        const front = document.createElement("div");
        front.className = "card-face card-front";
        front.innerHTML = "<span>ØŸ</span>";

        const back = document.createElement("div");
        back.className = "card-face card-back";
        back.textContent = sym;

        inner.appendChild(front);
        inner.appendChild(back);
        card.appendChild(inner);

        card.addEventListener("click", () => handleCardClick(card));

        boardEl.appendChild(card);
      });
    }

    function resetGame() {
      firstCard = null;
      secondCard = null;
      lockBoard = false;
      moves = 0;
      matchedPairs = 0;
      movesEl.textContent = "Û°";
      seconds = 0;
      timeEl.textContent = "Û° Ø«Ø§Ù†ÛŒÙ‡";
      timerStarted = false;
      stopTimer();
      winBanner.style.display = "none";
      createBoard();
    }

    function handleCardClick(card) {
      if (lockBoard) return;
      if (card === firstCard) return;
      if (card.classList.contains("matched")) return;

      // Ø´Ø±ÙˆØ¹ ØªØ§ÛŒÙ…Ø± Ø¨Ø§ Ø§ÙˆÙ„ÛŒÙ† Ø­Ø±Ú©Øª
      if (!timerStarted) {
        startTimer();
      }

      card.classList.add("flipped");

      if (!firstCard) {
        firstCard = card;
        return;
      }

      secondCard = card;
      lockBoard = true;
      moves++;
      movesEl.textContent = moves.toString();

      checkForMatch();
    }

    function checkForMatch() {
      const isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;

      if (isMatch) {
        disableCards();
      } else {
        unflipCards();
      }
    }

    function disableCards() {
      firstCard.classList.add("matched");
      secondCard.classList.add("matched");

      matchedPairs++;
      resetTurn();

      if (matchedPairs === totalPairs) {
        handleWin();
      }
    }

    function unflipCards() {
      setTimeout(() => {
        firstCard.classList.remove("flipped");
        secondCard.classList.remove("flipped");
        resetTurn();
      }, 700);
    }

    function resetTurn() {
      [firstCard, secondCard] = [null, null];
      lockBoard = false;
    }

    function handleWin() {
      stopTimer();
      finalTimeEl.textContent = seconds.toString();
      finalMovesEl.textContent = moves.toString();
      winBanner.style.display = "block";
    }

    restartBtn.addEventListener("click", resetGame);

    // Ø´Ø±ÙˆØ¹ Ø§ÙˆÙ„ÛŒÙ‡
    resetGame();
  </script>
</body>
</html>
