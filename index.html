<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <title>Ø±Ø¨Ø§Øª chatgpt Ø§ÛŒØªØ§</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ -->
    <link
      href="https://cdn.jsdelivr.net/gh/rastikerdar/shabnam-font/dist/font-face.css"
      rel="stylesheet"
    />

    <style>
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        padding: 0;
        background: #f3f7f4;
        font-family: "Shabnam", sans-serif;
      }

      .app {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* ğŸ¨ Ù‡Ø¯Ø± Ø³Ø¨Ø² Ù…ÛŒÙ†ÛŒÙ…Ø§Ù„ */
      .app-header {
        background: linear-gradient(135deg, #0f9d58, #12b565);
        color: #ffffff;
        padding: 14px 16px;
        display: flex;
        align-items: center;
        gap: 12px;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
        position: relative; /* Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª */
      }

      /* Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø¨Ø§Øª */
      .back-btn {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: none;
        color: #ffffff;
        font-size: 22px;
        cursor: pointer;
      }

      .back-btn:active {
        transform: translateY(-50%) scale(0.95);
      }

      .app-header-avatar {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .app-header-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .app-header-title {
        font-size: 18px;
        font-weight: 700;
      }

      .app-header-subtitle {
        font-size: 13px;
        opacity: 0.9;
      }

      /* Ø¨Ø¯Ù†Ù‡ Ú†Øª */
      .chat-wrapper {
        flex: 1;
        display: flex;
        justify-content: center;
        padding: 10px;
      }

      .chat-container {
        width: 100%;
        max-width: 720px;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 18px 18px 0 0;
        display: flex;
        flex-direction: column;
      }

      .chat-messages {
        padding: 16px 14px 8px;
        overflow-y: auto;
        flex: 1;
      }

      .message-row {
        display: flex;
        margin-bottom: 10px;
      }

      /* Ú†ÙˆÙ† ØµÙØ­Ù‡ RTL Ø§Ø³ØªØŒ flex-start = Ø±Ø§Ø³Øª Ùˆ flex-end = Ú†Ù¾ */
      .message-row.user {
        justify-content: flex-start; /* Ú©Ø§Ø±Ø¨Ø± Ø±Ø§Ø³Øª */
      }

      .message-row.bot {
        justify-content: flex-start; /* Ø±Ø¨Ø§Øª Ù‡Ù… Ø±Ø§Ø³ØªØŒ ÙˆÙ„ÛŒ Ø¨Ø§ Ú©Ø§Ø±Ø§Ú©ØªØ± Ú†Ù¾ Ø­Ø¨Ø§Ø¨ */
        align-items: flex-end;
      }

      .message-bubble {
        max-width: 80%;
        padding: 10px 14px;
        border-radius: 18px;
        font-size: 15px;
        line-height: 1.9;
        white-space: pre-wrap;
        position: relative;
      }

      /* â˜˜ï¸ Ø­Ø¨Ø§Ø¨ Ø±Ø¨Ø§Øª */
      .message-bubble.bot {
        background: #ffffff;
        color: #1a1a1a;
        border: 1px solid #e0f2e9;
        box-shadow: 0 4px 12px rgba(15, 157, 88, 0.1);
        border-radius: 18px 18px 18px 4px;
      }

      /* ğŸ’š Ø­Ø¨Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø± */
      .message-bubble.user {
        background: #0f9d58;
        color: #ffffff;
        border-radius: 18px 18px 4px 18px;
        box-shadow: 0 4px 12px rgba(15, 157, 88, 0.4);
      }

      .message-meta {
        margin-top: 4px;
        font-size: 11px;
        opacity: 0.65;
      }

      /* Ú©Ø§Ø±Ø§Ú©ØªØ± Ø·Ø§ÙˆÛŒØªØ§ Ú©Ù†Ø§Ø± Ø­Ø¨Ø§Ø¨ Ø±Ø¨Ø§Øª */
      .bot-character {
        width: 52px;
        margin-right: -10px; /* Ú©Ù…ÛŒ ÙˆØ§Ø±Ø¯ Ø­Ø¨Ø§Ø¨ */
        margin-left: 4px;
        pointer-events: none;
      }

      .bot-character img {
        width: 100%;
        display: block;
        transform-origin: bottom center;
        animation: tavita-wave 1.2s ease-in-out 1;
      }

      @keyframes tavita-wave {
        0% {
          transform: translateY(0) rotate(0);
        }
        25% {
          transform: translateY(-3px) rotate(-4deg);
        }
        50% {
          transform: translateY(0) rotate(3deg);
        }
        75% {
          transform: translateY(-2px) rotate(-2deg);
        }
        100% {
          transform: translateY(0) rotate(0);
        }
      }

      /* Ø³Ù‡â€ŒÙ†Ù‚Ø·Ù‡ ØªØ§ÛŒÙ¾ÛŒÙ†Ú¯ */
      .typing {
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .typing-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #7ebd9b;
        animation: bounce 1s infinite ease-in-out;
      }

      .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
      }

      .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
      }

      @keyframes bounce {
        0%,
        80%,
        100% {
          opacity: 0.4;
          transform: translateY(0);
        }
        40% {
          opacity: 1;
          transform: translateY(-4px);
        }
      }

      /* Ù¾Ø§Ú©â€ŒÚ©Ø±Ø¯Ù† Ú†Øª */
      .top-actions {
        text-align: left;
        padding: 8px 16px;
      }

      .clear-button {
        background: transparent;
        border: none;
        color: #0f9d58;
        font-size: 12px;
        cursor: pointer;
      }

      .clear-button:hover {
        text-decoration: underline;
      }

      /* ÙˆØ±ÙˆØ¯ÛŒ + Ø¨Ø§Ø²ÛŒ */
      .chat-input-wrapper {
        border-top: 1px solid #dceee3;
        background: #ffffff;
        padding: 8px 12px 4px;
        position: relative;
      }

      .chat-input-inner {
        max-width: 720px;
        margin: 0 auto;
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .chat-textarea {
        flex: 1;
        border-radius: 16px;
        border: 1px solid #b8dec9;
        padding: 10px 12px;
        font-size: 14px;
        resize: none;
        min-height: 40px;
        background: #f5fbf7;
      }

      .chat-textarea:focus {
        border-color: #0f9d58;
        box-shadow: 0 0 0 2px rgba(15, 157, 88, 0.2);
        background: #ffffff;
        outline: none;
      }

      .emoji-button {
        background: #ffffff;
        border-radius: 12px;
        border: 1px solid #d5eadf;
        width: 40px;
        height: 40px;
        cursor: pointer;
        font-size: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .send-button {
        background: #0f9d58;
        color: #ffffff;
        border: none;
        border-radius: 14px;
        padding: 0 16px;
        height: 40px;
        cursor: pointer;
        font-size: 14px;
        box-shadow: 0 3px 8px rgba(15, 157, 88, 0.3);
        transition: 0.15s;
        white-space: nowrap;
      }

      .send-button:active {
        transform: scale(0.95);
      }

      /* Ù¾Ù†Ù„ Ø§ÛŒÙ…ÙˆØ¬ÛŒ */
      .emoji-picker {
        position: absolute;
        bottom: 88px;
        left: 50%;
        transform: translateX(-50%);
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.15);
        padding: 6px 8px;
        display: flex;
        gap: 4px;
        z-index: 10;
      }

      .emoji-picker span {
        cursor: pointer;
        font-size: 20px;
        padding: 4px;
        border-radius: 8px;
      }

      .emoji-picker span:hover {
        background: #f3f7f4;
      }

      .hidden {
        display: none !important;
      }

      /* Ù†ÙˆØ§Ø± Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯â€ŒÚ©Ø§ØºØ°Ù‚ÛŒÚ†ÛŒ */
      .game-bar {
        max-width: 720px;
        margin: 6px auto 2px;
        padding: 6px 10px 4px;
        border-radius: 14px;
        background: #ecfdf3;
        border: 1px solid #bbf7d0;
        display: flex;
        flex-direction: column;
        gap: 4px;
        font-size: 12px;
        color: #065f46;
      }

      .game-bar-title {
        display: flex;
        align-items: center;
        gap: 6px;
        font-weight: 500;
      }

      .game-buttons {
        display: flex;
        gap: 6px;
        margin-top: 2px;
      }

      .game-btn {
        flex: 1;
        border-radius: 999px;
        border: none;
        padding: 5px 0;
        font-size: 13px;
        cursor: pointer;
        background: #ffffff;
        color: #065f46;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
        box-shadow: 0 2px 6px rgba(16, 185, 129, 0.25);
      }

      .game-btn span {
        font-size: 16px;
      }

      .game-btn:active {
        transform: scale(0.97);
      }

      @media (max-width: 600px) {
        .game-bar {
          font-size: 11px;
        }
        .game-btn {
          font-size: 12px;
        }
      }
    </style>
  </head>

  <body>
    <div class="app">
      <!-- Ù‡Ø¯Ø± Ø³Ø¨Ø² Ø¨Ø§ Ù„ÙˆÚ¯ÙˆÛŒ Ø·Ø§ÙˆÛŒØªØ§ -->
      <header class="app-header">
        <!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø§ÛŒØªØ§ -->
        <button id="backBtn" class="back-btn">â¬…ï¸</button>

        <div class="app-header-avatar">
          <img
            src="https://cdnfa.com/irangiah/a9be/uploads/new5/picsart-25-11-11-18-20-53-865.png"
            alt="Ù„ÙˆÚ¯Ùˆ Ø·Ø§ÙˆÛŒØªØ§"
          />
        </div>
        <div>
          <div class="app-header-title">chatgpt</div>
          <div class="app-header-subtitle">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø´Ù…Ø§ Ø¯Ø± Ø§ÛŒØªØ§ ğŸŒ¿</div>
        </div>
      </header>

      <div class="chat-wrapper">
        <div class="chat-container">
          <div class="top-actions">
            <button id="clearChat" class="clear-button">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú†Øª ğŸ§¹</button>
          </div>

          <div id="chatMessages" class="chat-messages"></div>

          <!-- ÙˆØ±ÙˆØ¯ÛŒ + Ø¨Ø§Ø²ÛŒ -->
          <div class="chat-input-wrapper">
            <form id="chatForm" class="chat-input-inner">
              <textarea
                id="userInput"
                class="chat-textarea"
                placeholder="ÛŒÙ‡ Ø³Ø¤Ø§Ù„ Ø¨Ù¾Ø±Ø³..."
              ></textarea>

              <button
                type="button"
                id="emojiBtn"
                class="emoji-button"
                aria-label="Ø§ÛŒÙ…ÙˆØ¬ÛŒ"
              >
                ğŸ™‚
              </button>

              <button type="submit" id="sendBtn" class="send-button">
                Ø§Ø±Ø³Ø§Ù„ ğŸš€
              </button>
            </form>

            <!-- Ù¾Ù†Ù„ Ø§ÛŒÙ…ÙˆØ¬ÛŒ -->
            <div id="emojiPicker" class="emoji-picker hidden">
              <span>ğŸ™‚</span>
              <span>ğŸ˜Š</span>
              <span>ğŸ˜‚</span>
              <span>ğŸ¥²</span>
              <span>âœ¨</span>
              <span>ğŸŒ±</span>
              <span>ğŸ’š</span>
              <span>ğŸš€</span>
            </div>

            <!-- Ù†ÙˆØ§Ø± Ø¨Ø§Ø²ÛŒ -->
            <div class="game-bar">
              <div class="game-bar-title">
                <span>ğŸ®</span>
                <span>Ø¨Ø§ Ø·Ø§ÙˆÛŒØªØ§ Ø³Ù†Ú¯â€ŒÚ©Ø§ØºØ°Ù‚ÛŒÚ†ÛŒ Ø¨Ø§Ø²ÛŒ Ú©Ù†</span>
              </div>
              <div class="game-buttons">
                <button type="button" class="game-btn" data-move="rock">
                  <span>ğŸª¨</span>
                  <span>Ø³Ù†Ú¯</span>
                </button>
                <button type="button" class="game-btn" data-move="paper">
                  <span>ğŸ“„</span>
                  <span>Ú©Ø§ØºØ°</span>
                </button>
                <button type="button" class="game-btn" data-move="scissors">
                  <span>âœ‚ï¸</span>
                  <span>Ù‚ÛŒÚ†ÛŒ</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const chatMessages = document.getElementById("chatMessages");
      const chatForm = document.getElementById("chatForm");
      const userInput = document.getElementById("userInput");
      const sendBtn = document.getElementById("sendBtn");
      const clearBtn = document.getElementById("clearChat");
      const emojiBtn = document.getElementById("emojiBtn");
      const emojiPicker = document.getElementById("emojiPicker");
      const gameButtons = document.querySelectorAll(".game-btn");
      const backBtn = document.getElementById("backBtn");

      // Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø¨Ø§Øª Ø§ÛŒØªØ§
      if (backBtn) {
        backBtn.addEventListener("click", () => {
          window.location.href = "https://eitaa.com/chatgpt_tavita_app";
        });
      }

      // Ù¾ÛŒØ§Ù… Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯
      addBotMessage(
        "Ø³Ù„Ø§Ù… ğŸ‘‹ Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ!\n" +
          "Ù…Ù† Ø¯Ø³ØªÛŒØ§Ø± chatgpt Ù‡Ø³ØªÙ….\n" +
          "Ù‡Ø± Ø³Ø¤Ø§Ù„ÛŒ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø²Ù†Ø¯Ú¯ÛŒØŒ Ú©Ø§Ø±ØŒ Ø¯Ø±Ø³ Ø§ÛŒØ¯Ù‡ Ùˆ... Ø¯Ø§Ø±ÛŒ Ø¨Ù¾Ø±Ø³ ğŸŒ¿\n" +
          "Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø³Ø±ÙˆÛŒØ³ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø¨Ù…ÙˆÙ†Ù‡ Ø¯Ø± Ù‡Ø± Ø¨Ø§Ø²Ù‡ ÛŒ Û¶ Ø³Ø§Ø¹ØªÙ‡ Ù…ÛŒØªÙˆÙ†ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Û±Û° Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒ. Ù¾Ø³ Ø¯Ø± Ù‡Ø± Ù¾ÛŒØ§Ù…Øª Ú©Ø§Ù…Ù„ Ùˆ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø±Ø®ÙˆØ§Ø³ØªØª Ø±Ùˆ Ø¨ÛŒØ§Ù† Ú©Ù†."
      );

      // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú†Øª
      clearBtn.addEventListener("click", () => {
        chatMessages.innerHTML = "";
        addBotMessage("Ú†Øª Ù¾Ø§Ú© Ø´Ø¯. Ù‡Ø± Ù…ÙˆÙ‚Ø¹ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨ÙˆØ¯ÛŒØŒ ÛŒÙ‡ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÛŒØ¯ Ø¨Ù¾Ø±Ø³ ğŸŒ±");
      });

      // Ø¨Ø§Ø² Ùˆ Ø¨Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ Ø§ÛŒÙ…ÙˆØ¬ÛŒ
      emojiBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        emojiPicker.classList.toggle("hidden");
      });

      // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù‡Ø± Ø§ÛŒÙ…ÙˆØ¬ÛŒ
      emojiPicker.querySelectorAll("span").forEach((span) => {
        span.addEventListener("click", (e) => {
          e.stopPropagation();
          const emoji = span.textContent;
          userInput.value = (userInput.value + " " + emoji).trim();
          userInput.focus();
          emojiPicker.classList.add("hidden");
        });
      });

      // Ø¨Ø³ØªÙ† Ù¾Ù†Ù„ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø¨ÛŒØ±ÙˆÙ†
      document.addEventListener("click", (e) => {
        if (
          !emojiPicker.contains(e.target) &&
          e.target !== emojiBtn &&
          !emojiBtn.contains(e.target)
        ) {
          emojiPicker.classList.add("hidden");
        }
      });

      // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù…Ø¹Ù…ÙˆÙ„ÛŒ
      chatForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const text = userInput.value.trim();
        if (!text) return;

        addUserMessage(text);
        userInput.value = "";

        const typingId = showTyping();
        sendBtn.disabled = true;

        try {
          const res = await fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ text }),
          });

          const data = await res.json().catch(() => ({}));
          hideTyping(typingId);

          if (!res.ok) {
            addBotMessage("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ±. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†.");
          } else {
            addBotMessage(data.answer || "Ù¾Ø§Ø³Ø®ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯.");
          }
        } catch (err) {
          hideTyping(typingId);
          addBotMessage("âŒ Ù…Ø´Ú©Ù„ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡. Ø§ÛŒÙ†ØªØ±Ù†Øª ÛŒØ§ VPN Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†.");
        }

        sendBtn.disabled = false;
      });

      function addUserMessage(text) {
        const row = document.createElement("div");
        row.className = "message-row user";

        const bubble = document.createElement("div");
        bubble.className = "message-bubble user";
        bubble.textContent = text;

        row.appendChild(bubble);
        chatMessages.appendChild(row);
        scrollToEnd();
      }

      function addBotMessage(text) {
        const row = document.createElement("div");
        row.className = "message-row bot";

        const bubble = document.createElement("div");
        bubble.className = "message-bubble bot";

        const content = document.createElement("div");
        content.textContent = text;

        const meta = document.createElement("div");
        meta.className = "message-meta";
        meta.textContent = "chatgpt";

        bubble.appendChild(content);
        bubble.appendChild(meta);

        // Ø­Ø¨Ø§Ø¨ Ø§ÙˆÙ„ØŒ Ø¨Ø¹Ø¯ Ú©Ø§Ø±Ø§Ú©ØªØ± (Ø¯Ø± RTL Ú©Ø§Ø±Ø§Ú©ØªØ± Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ø³Ù…Øª Ú†Ù¾ Ø­Ø¨Ø§Ø¨)
        row.appendChild(bubble);

        const char = document.createElement("div");
        char.className = "bot-character";
        const img = document.createElement("img");
        img.src =
          "https://cdnfa.com/irangiah/a9be/uploads/new12/picsart-25-11-13-15-57-05-527.png";
        img.alt = "Ú©Ø§Ø±Ø§Ú©ØªØ± Ø·Ø§ÙˆÛŒØªØ§";
        char.appendChild(img);
        row.appendChild(char);

        chatMessages.appendChild(row);
        scrollToEnd();
      }

      function showTyping() {
        const id = "typing-" + Date.now();
        const row = document.createElement("div");
        row.className = "message-row bot";
        row.id = id;

        const bubble = document.createElement("div");
        bubble.className = "message-bubble bot typing";

        for (let i = 0; i < 3; i++) {
          const dot = document.createElement("span");
          dot.className = "typing-dot";
          bubble.appendChild(dot);
        }

        row.appendChild(bubble);
        chatMessages.appendChild(row);
        scrollToEnd();
        return id;
      }

      function hideTyping(id) {
        const item = document.getElementById(id);
        if (item) item.remove();
      }

      function scrollToEnd() {
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      /* ğŸ® Ù…Ù†Ø·Ù‚ Ø¨Ø§Ø²ÛŒ Ø³Ù†Ú¯â€ŒÚ©Ø§ØºØ°Ù‚ÛŒÚ†ÛŒ Ø¨Ø§ Ø·Ø§ÙˆÛŒØªØ§ */
      const moveLabelsUser = {
        rock: "Ø³Ù†Ú¯ ğŸª¨",
        paper: "Ú©Ø§ØºØ° ğŸ“„",
        scissors: "Ù‚ÛŒÚ†ÛŒ âœ‚ï¸",
      };

      const moveLabelsBot = {
        rock: "Ø³Ù†Ú¯ ğŸª¨",
        paper: "Ú©Ø§ØºØ° ğŸ“„",
        scissors: "Ù‚ÛŒÚ†ÛŒ âœ‚ï¸",
      };

      function getBotMove() {
        const moves = ["rock", "paper", "scissors"];
        const index = Math.floor(Math.random() * moves.length);
        return moves[index];
      }

      function getResult(user, bot) {
        if (user === bot) return "draw";

        if (
          (user === "rock" && bot === "scissors") ||
          (user === "paper" && bot === "rock") ||
          (user === "scissors" && bot === "paper")
        ) {
          return "user";
        }

        return "bot";
      }

      gameButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const userMove = btn.getAttribute("data-move");
          const botMove = getBotMove();

          // Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
          addUserMessage(`Ø´Ù…Ø§ ${moveLabelsUser[userMove]} Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯ÛŒ.`);

          // Ù†ØªÛŒØ¬Ù‡ Ø¨Ø§Ø²ÛŒ
          const result = getResult(userMove, botMove);
          let resultText = "";

          if (result === "user") {
            resultText = "ØªØ¨Ø±ÛŒÚ©! ØªÙˆ Ø¨Ø±Ø¯ÛŒ ğŸ˜ğŸ”¥";
          } else if (result === "draw") {
            resultText = "Ø§ÛŒÙ†â€ŒØ¨Ø§Ø± Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯ ğŸ™‚";
          } else {
            resultText = "Ø·Ø§ÙˆÛŒØªØ§ Ø¨Ø±Ø¯ ğŸ˜„ğŸ’«";
          }

          const botText = `Ø·Ø§ÙˆÛŒØªØ§ ${moveLabelsBot[botMove]} Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯.\n${resultText}`;
          addBotMessage(botText);
        });
      });
    </script>
  </body>
</html>
